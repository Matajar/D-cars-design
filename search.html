<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>D Cars - Search</title>
    <style>
      :root {
        --primary: #ffbf00;
        --primary-dark: #e6ac00;
        --secondary: #ffda77;
        --accent: #fff0c8;
        --dark: #1a202c;
        --light: #f6f7f9;
        --gray: #90a3bf;
        --background: #ffffff;
        --card-bg: #f6f7f9;
        --shadow: 0 8px 16px rgba(255, 191, 0, 0.1);
        --transition: all 0.3s ease;
      }
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      :root {
        --primary: #ffbf00;
        --primary-dark: #e6ac00;
        --secondary: #ffda77;
        --dark: #1a202c;
        --light: #ffffff;
        --gray: #90a3bf;
        --background: #ffffff;
        --card-bg: #f6f7f9;
        --shadow: 0 8px 16px rgba(255, 191, 0, 0.1);
        --transition: all 0.3s ease;
      }

      body {
        background-color: var(--background);
        color: var(--dark);
        line-height: 1.6;
      }

      /* Page Slide Up Animation */
      @keyframes slideUp {
        from {
          transform: translateY(100%);
        }
        to {
          transform: translateY(0);
        }
      }

      .container {
        max-width: 430px;
        margin: 0 auto;
        background-color: var(--background);
        min-height: 100vh;
        position: relative;
        overflow: hidden;
        /* padding-bottom: 80px; */
        animation: slideUp 0.2s ease-out;
      }

      .status-bar {
        display: flex;
        justify-content: space-between;
        padding: 10px 15px;
        color: var(--dark);
        font-size: 14px;
        background-color: var(--background);
      }

      .header {
        padding: 15px 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .dcars-logo {
        width: auto;
        height: 40px;
        object-fit: contain;
      }
      .back-button {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background-color: var(--light);
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--dark);
        font-size: 18px;
        text-decoration: none;
        border: 1px solid #e0e0e0;
        transition: var(--transition);
      }

      .back-button:hover {
        background-color: var(--accent);
      }
      .logo {
        display: flex;
        align-items: center;
        font-size: 20px;
        font-weight: 600;
        color: var(--dark);
      }

      .profile-icon {
        object-fit: contain;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background-color: #f5f5f5;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        padding: 5px;
      }

      .search-container {
        padding: 0 20px;
        margin-bottom: 20px;
      }
      .search-icon {
        height: 20px;
        width: 20px;
        object-fit: contain;
      }
      .search-box {
        display: flex;
        align-items: center;
        background-color: #f5f5f5;
        border-radius: 30px;
        padding: 12px 16px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
      }

      .search-icon {
        margin-right: 10px;
        color: #888;
      }

      .search-input {
        background: transparent;
        border: none;
        outline: none;
        color: var(--dark);
        font-size: 16px;
        width: 100%;
      }

      .search-input::placeholder {
        color: #aaa;
      }

      .filters-icon {
        cursor: pointer;
        width: 36px;
        height: 36px;
        /* background-color: var(--primary); */
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--dark);
        margin-left: 10px;
      }

      .section-title {
        font-size: 18px;
        font-weight: 600;
        padding: 0 20px;
        margin-bottom: 15px;
      }

      .category-grid {
        display: flex;
        padding: 0 10px 20px;
        overflow-x: auto;
        scrollbar-width: none;
        margin-bottom: 15px;
        gap: 10px;
      }

      .category-grid::-webkit-scrollbar {
        display: none;
      }

      .category-item {
        cursor: pointer;
        min-width: 80px;
        padding: 10px 15px;
        background-color: #f5f5f5;
        border-radius: 20px;
        text-align: center;
        font-size: 14px;
        color: var(--dark);
      }

      .category-item.active {
        background-color: var(--primary);
        color: var(--dark);
      }

      .car-brands {
        padding: 0 20px 20px;
        margin-bottom: 20px;
      }

      .brand-grid {
        display: flex;
        overflow-x: auto;
        scrollbar-width: none;
        gap: 25px;
        padding-bottom: 10px;
      }

      .brand-grid::-webkit-scrollbar {
        display: none;
      }

      .brand-item {
        cursor: pointer;
        display: flex;
        flex-direction: column;
        align-items: center;
        min-width: 60px;
      }

      .brand-icon {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background-color: #f5f5f5;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 8px;
      }
      .brand-icon img {
        object-fit: contain;
      }

      .brand-name {
        font-size: 12px;
        color: #555;
        text-align: center;
      }

      .fuel-types {
        padding: 0 20px 20px;
        margin-bottom: 10px;
      }

      .fuel-grid {
        display: flex;
        overflow-x: auto;
        scrollbar-width: none;
        gap: 10px;
        padding-bottom: 5px;
      }

      .fuel-grid::-webkit-scrollbar {
        display: none;
      }

      .fuel-item {
        cursor: pointer;
        min-width: 80px;
        padding: 10px 15px;
        background-color: #f5f5f5;
        border-radius: 20px;
        text-align: center;
        font-size: 14px;
        color: var(--dark);
      }

      .fuel-item.active {
        background-color: var(--primary);
        color: var(--dark);
      }

      .cars-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
        padding: 0 20px;
        margin-bottom: 80px;
      }

      .car-card {
        background-color: #f9f9f9;
        border-radius: 12px;
        overflow: hidden;
        position: relative;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
      }

      .car-image {
        height: 120px;
        position: relative;
      }

      .car-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .favorite-button {
        position: absolute;
        top: 10px;
        right: 10px;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background-color: rgba(255, 255, 255, 0.8);
        display: flex;
        align-items: center;
        justify-content: center;
        border: none;
        cursor: pointer;
      }

      .car-info {
        padding: 12px;
      }

      .car-name {
        font-size: 14px;
        font-weight: 600;
        margin-bottom: 5px;
        color: var(--dark);
      }

      .car-price {
        display: flex;
        color: #555;
        font-size: 12px;
        margin-bottom: 5px;
      }

      .price-value {
        font-weight: 600;
        color: var(--dark);
      }

      .car-rating {
        display: flex;
        align-items: center;
        font-size: 12px;
        color: #888;
      }

      .rating-star {
        color: var(--primary);
        margin-right: 3px;
      }

      .bottom-navigation {
        position: fixed;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 90%;
        max-width: 400px;
        background: linear-gradient(
          135deg,
          rgba(253, 186, 116, 0.4),
          rgba(254, 240, 138, 0.4)
        );
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);
        display: flex;
        justify-content: space-around;
        padding: 10px 0;
        margin-bottom: 20px;
        z-index: 100;
        border-radius: 50px;
        border: 1px solid rgba(255, 255, 255, 0.18);
      }

      .nav-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        font-size: 12px;
        color: #000000;
        font-weight: 500;
        padding: 0 10px;
        text-decoration: none;
      }

      .nav-item.active {
        color: #996600;
        position: relative;
      }

      .nav-item.active::after {
        content: "";
        position: absolute;
        bottom: -6px;
        left: 50%;
        transform: translateX(-50%);
        width: 5px;
        height: 5px;
        background-color: #664400;
        border-radius: 50%;
      }

      .nav-icon {
        margin-bottom: 5px;
        font-size: 20px;
      }

      /* Filters Modal */
      .filters-modal {
        position: absolute;
        top: 20px;
        right: 20px;
        width: 85%;
        background: white;
        border-radius: 15px;
        padding: 20px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
        z-index: 100;
      }

      .filters-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .filters-title {
        font-size: 20px;
        font-weight: 600;
      }

      .reset-button {
        color: #888;
        font-size: 14px;
      }

      .close-button {
        position: absolute;
        top: 15px;
        right: 15px;
        width: 24px;
        height: 24px;
        border-radius: 50%;
        background-color: #f5f5f5;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        font-size: 14px;
        border: 1px solid #e0e0e0;
      }

      .filter-section {
        margin-bottom: 20px;
      }

      .filter-section-title {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 15px;
      }
      .reset-text{
        display: flex;
        justify-content: space-between;
      }

      .seats-options {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
      }

      .seats-option {
        padding: 10px 15px;
        border: 1px solid #ddd;
        border-radius: 30px;
        font-size: 14px;
        cursor: pointer;
      }

      .seats-option.active {
        background-color: var(--primary);
        color: var(--dark);
        border-color: var(--primary);
      }

      .transmission-options {
        display: flex;
        gap: 10px;
        margin-bottom: 20px;
      }

      .transmission-option {
        padding: 10px 15px;
        border: 1px solid #ddd;
        border-radius: 30px;
        font-size: 14px;
        flex: 1;
        text-align: center;
        cursor: pointer;
      }

      .transmission-option.active {
        background-color: var(--primary);
        color: var(--dark);
        border-color: var(--primary);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="status-bar">
        <div class="time">9:41</div>
        <div class="indicators">
          <span>●●●●</span>
          <span>●●●</span>
          <span>85%</span>
        </div>
      </div>

      <div class="header">
        <a href="javascript:history.back()" class="back-button">←</a>
        <div class="logo">
          <img src="assets/Dcars.png" alt="Logo" class="dcars-logo" />
        </div>
        <div class="profile-icon">
          <img
            src="assets/icons/profile.svg"
            alt="Profile Icon"
            class="profile-icon"
          />
        </div>
      </div>

      <div class="search-container">
        <div class="search-box">
          <div class="search-icon">
            <img
              src="assets/icons/search.svg"
              alt="Search Icon"
              class="search-icon"
            />
          </div>
          <input
            type="text"
            class="search-input"
            placeholder="Search for cars..."
          />
          <div class="filters-icon" id="filters-toggle">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
              <g
                id="SVGRepo_tracerCarrier"
                stroke-linecap="round"
                stroke-linejoin="round"
              ></g>
              <g id="SVGRepo_iconCarrier">
                <path
                  d="M4 18L20 18"
                  stroke="#000000"
                  stroke-width="2"
                  stroke-linecap="round"
                ></path>
                <path
                  d="M4 12L20 12"
                  stroke="#000000"
                  stroke-width="2"
                  stroke-linecap="round"
                ></path>
                <path
                  d="M4 6L20 6"
                  stroke="#000000"
                  stroke-width="2"
                  stroke-linecap="round"
                ></path>
              </g>
            </svg>
          </div>
        </div>
      </div>

      <div class="section-title">Categories</div>
      <div class="category-grid">
        <div class="category-item active" data-category="All">All</div>
        <div class="category-item" data-category="SUV">SUV</div>
        <div class="category-item" data-category="Sedan">Sedan</div>
        <div class="category-item" data-category="Coupe">Coupe</div>
        <div class="category-item" data-category="Hatchback">Hatchback</div>
        <div class="category-item" data-category="Convertible">Convertible</div>
      </div>

      <div class="section-title">Car Brands</div>
      <div class="car-brands">
        <div class="brand-grid">
          <div class="brand-item" data-brand="All">
            <div class="brand-icon">
              <img
                src="assets/svg/all.png"
                width="30"
                height="30"
                alt="BMW Logo"
              />
            </div>
            <div class="brand-name">All</div>
          </div>
          <div class="brand-item" data-brand="Tesla">
            <div class="brand-icon">
              <img
                src="assets/svg/tesla.svg"
                width="30"
                height="30"
                alt="BMW Logo"
              />
            </div>
            <div class="brand-name">Tesla</div>
          </div>
          <div class="brand-item" data-brand="BMW">
            <div class="brand-icon">
              <img
                src="assets/svg/bmw.svg"
                width="30"
                height="30"
                alt="BMW Logo"
              />
            </div>
            <div class="brand-name">BMW</div>
          </div>
          <div class="brand-item" data-brand="Audi">
            <div class="brand-icon">
              <img
                src="assets/svg/audi.png"
                width="25"
                height="25"
                alt="BMW Logo"
              />
            </div>
            <div class="brand-name">Audi</div>
          </div>
          <div class="brand-item" data-brand="Porsche">
            <div class="brand-icon">
              <img
                src="assets/svg/porsche.svg"
                width="30"
                height="30"
                alt="BMW Logo"
              />
            </div>
            <div class="brand-name">Porsche</div>
          </div>
          <div class="brand-item" data-brand="Rivian">
            <div class="brand-icon">
              <img
                src="assets/svg/rivian.svg"
                width="30"
                height="30"
                alt="BMW Logo"
              />
            </div>
            <div class="brand-name">Rivian</div>
          </div>
          <div class="brand-item" data-brand="Lucid">
            <div class="brand-icon">
              <img
                src="assets/svg/lucid.svg"
                width="30"
                height="30"
                alt="BMW Logo"
              />
            </div>
            <div class="brand-name">Lucid</div>
          </div>
        </div>
      </div>

      <div class="section-title">Fuel Types</div>
      <div class="fuel-types">
        <div class="fuel-grid">
          <div class="fuel-item active" data-fuel="All">All</div>
          <div class="fuel-item" data-fuel="Electric">Electric</div>
          <div class="fuel-item" data-fuel="Hybrid">Hybrid</div>
          <div class="fuel-item" data-fuel="Petrol">Petrol</div>
          <div class="fuel-item" data-fuel="Diesel">Diesel</div>
        </div>
      </div>

      <div class="section-title">Available Cars</div>
      <div class="cars-grid">
        <div
          class="car-card"
          onclick="window.location.href='details.html'"
          data-category="Sedan"
          data-brand="Tesla"
          data-fuel="Electric"
          data-seats="5"
          data-transmission="Automatic"
        >
          <div class="car-image">
            <img src="assets/carbg6.jpg" alt="Tesla Model 3" />
            <button class="favorite-button">🤍</button>
          </div>
          <div class="car-info">
            <div class="car-name">Tesla Model 3</div>
            <div class="car-price">
              <span class="price-value">$45,000</span>
            </div>
            <div class="car-rating"><span class="rating-star">★</span> 4.8</div>
          </div>
        </div>

        <div
          class="car-card"
          onclick="window.location.href='details.html'"
          data-category="Sedan"
          data-brand="BMW"
          data-fuel="Electric"
          data-seats="5"
          data-transmission="Automatic"
        >
          <div class="car-image">
            <img src="assets/carbg7.png" alt="BMW i4" />
            <button class="favorite-button">🤍</button>
          </div>
          <div class="car-info">
            <div class="car-name">BMW i4</div>
            <div class="car-price">
              <span class="price-value">$56,000</span>
            </div>
            <div class="car-rating"><span class="rating-star">★</span> 4.6</div>
          </div>
        </div>

        <div
          class="car-card"
          onclick="window.location.href='details.html'"
          data-category="Coupe"
          data-brand="Audi"
          data-fuel="Petrol"
          data-seats="4"
          data-transmission="Automatic"
        >
          <div class="car-image">
            <img src="assets/carbg8.png" alt="Audi e-tron GT" />
            <button class="favorite-button">🤍</button>
          </div>
          <div class="car-info">
            <div class="car-name">Audi e-tron GT</div>
            <div class="car-price">
              <span class="price-value">$102,000</span>
            </div>
            <div class="car-rating"><span class="rating-star">★</span> 4.9</div>
          </div>
        </div>

        <div
          class="car-card"
          onclick="window.location.href='details.html'"
          data-category="Coupe"
          data-brand="Porsche"
          data-fuel="Petrol"
          data-seats="4"
          data-transmission="Automatic"
        >
          <div class="car-image">
            <img src="assets/carbg9.png" alt="Porsche Taycan" />
            <button class="favorite-button">🤍</button>
          </div>
          <div class="car-info">
            <div class="car-name">Porsche Taycan</div>
            <div class="car-price">
              <span class="price-value">$86,700</span>
            </div>
            <div class="car-rating"><span class="rating-star">★</span> 4.7</div>
          </div>
        </div>

        <div
          class="car-card"
          onclick="window.location.href='details.html'"
          data-category="Sedan"
          data-brand="Lucid"
          data-fuel="Hybrid"
          data-seats="5"
          data-transmission="Automatic"
        >
          <div class="car-image">
            <img src="assets/carbg10.jpg" alt="Lucid Air" />
            <button class="favorite-button">🤍</button>
          </div>
          <div class="car-info">
            <div class="car-name">Lucid Air</div>
            <div class="car-price">
              <span class="price-value">$87,400</span>
            </div>
            <div class="car-rating"><span class="rating-star">★</span> 4.5</div>
          </div>
        </div>

        <div
          class="car-card"
          onclick="window.location.href='details.html'"
          data-category="SUV"
          data-brand="Rivian"
          data-fuel="Diesel"
          data-seats="7"
          data-transmission="Automatic"
        >
          <div class="car-image">
            <img src="assets/carbg1.png" alt="Rivian R1T" />
            <button class="favorite-button">🤍</button>
          </div>
          <div class="car-info">
            <div class="car-name">Rivian R1T</div>
            <div class="car-price">
              <span class="price-value">$73,000</span>
            </div>
            <div class="car-rating"><span class="rating-star">★</span> 4.8</div>
          </div>
        </div>
      </div>

      <!-- Bottom Navigation -->
      <!-- <div class="bottom-navigation">
        <a href="dash.html" class="nav-item">
          <div class="nav-icon">🏠</div>
          Home
        </a>
        <a href="search.html" class="nav-item active">
          <div class="nav-icon">🔍</div>
          Search
        </a>
        <a href="wallet.html" class="nav-item">
          <div class="nav-icon">💰</div>
          Wallet
        </a>
        <a href="profile.html" class="nav-item">
          <div class="nav-icon">👤</div>
          Profile
        </a>
      </div> -->

      <!-- Filters Modal (hidden by default) -->
      <div class="filters-modal" id="filters-modal" style="display: none">
        <div class="close-button" id="close-filters">×</div>
        <div class="filters-header">
          <div class="filters-title">Filters</div>
        </div>

        <div class="filter-section">
          <div class="reset-text">
            <div class="filter-section-title">Number of Seats</div>

            <div class="reset-button" id="reset-filters">Reset All</div>
          </div>
          <div class="seats-options">
            <div class="seats-option" data-seats="2">2</div>
            <div class="seats-option" data-seats="4">4</div>
            <div class="seats-option active" data-seats="5">5</div>
            <div class="seats-option" data-seats="7">7+</div>
          </div>
        </div>

        <div class="filter-section">
          <div class="filter-section-title">Transmission</div>
          <div class="transmission-options">
            <div
              class="transmission-option active"
              data-transmission="Automatic"
            >
              Automatic
            </div>
            <div class="transmission-option" data-transmission="Manual">
              Manual
            </div>
          </div>
        </div>

        <button
          id="apply-filters"
          style="
            background-color: var(--primary);
            border: none;
            color: var(--dark);
            padding: 12px;
            border-radius: 30px;
            width: 100%;
            font-weight: 600;
            margin-top: 20px;
            cursor: pointer;
          "
        >
          Apply Filters
        </button>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Get all filter elements
        const categoryItems = document.querySelectorAll(
          ".category-grid .category-item"
        );
        const brandItems = document.querySelectorAll(".brand-grid .brand-item");
        const fuelItems = document.querySelectorAll(".fuel-grid .fuel-item");
        const seatsOptions = document.querySelectorAll(
          ".seats-options .seats-option"
        );
        const transmissionOptions = document.querySelectorAll(
          ".transmission-options .transmission-option"
        );

        // Get all car cards
        const carCards = document.querySelectorAll(".car-card");

        // Filters modal toggle
        const filtersToggle = document.getElementById("filters-toggle");
        const filtersModal = document.getElementById("filters-modal");
        const applyFiltersBtn = document.getElementById("apply-filters");
        const resetFiltersBtn = document.getElementById("reset-filters");
        const closeFiltersBtn = document.getElementById("close-filters");

        // Current filters state
        let activeFilters = {
          category: "All",
          brand: "All",
          fuel: "All",
          seats: "5",
          transmission: "Automatic",
        };

        // Toggle filters modal
        filtersToggle.addEventListener("click", function () {
          filtersModal.style.display =
            filtersModal.style.display === "none" ? "block" : "none";
        });

        // Close filters modal
        closeFiltersBtn.addEventListener("click", function () {
          filtersModal.style.display = "none";
        });

        // Category filter click handlers
        categoryItems.forEach((item) => {
          item.addEventListener("click", function () {
            // Remove active class from all category items
            categoryItems.forEach((cat) => cat.classList.remove("active"));
            // Add active class to clicked item
            this.classList.add("active");
            // Update active filter
            activeFilters.category = this.getAttribute("data-category");
            // Apply filters
            applyFilters();
          });
        });

        // Brand filter click handlers
        brandItems.forEach((item) => {
          item.addEventListener("click", function () {
            // Add/remove active class (no visual implementation in original CSS)
            brandItems.forEach(
              (brand) =>
                (brand.querySelector(".brand-icon").style.border = "none")
            );
            this.querySelector(".brand-icon").style.border =
              "2px solid var(--primary)";
            // Update active filter
            activeFilters.brand = this.getAttribute("data-brand");
            // Apply filters
            applyFilters();
          });
        });

        // Fuel type filter click handlers
        fuelItems.forEach((item) => {
          item.addEventListener("click", function () {
            // Remove active class from all fuel items
            fuelItems.forEach((fuel) => fuel.classList.remove("active"));
            // Add active class to clicked item
            this.classList.add("active");
            // Update active filter
            activeFilters.fuel = this.getAttribute("data-fuel");
            // Apply filters
            applyFilters();
          });
        });

        // Seats options click handlers
        seatsOptions.forEach((option) => {
          option.addEventListener("click", function () {
            // Remove active class from all seats options
            seatsOptions.forEach((opt) => opt.classList.remove("active"));
            // Add active class to clicked option
            this.classList.add("active");
            // Update active filter
            activeFilters.seats = this.getAttribute("data-seats");
          });
        });

        // Transmission options click handlers
        transmissionOptions.forEach((option) => {
          option.addEventListener("click", function () {
            // Remove active class from all transmission options
            transmissionOptions.forEach((opt) =>
              opt.classList.remove("active")
            );
            // Add active class to clicked option
            this.classList.add("active");
            // Update active filter
            activeFilters.transmission = this.getAttribute("data-transmission");
          });
        });

        // Apply filters button click handler
        applyFiltersBtn.addEventListener("click", function () {
          // Apply filters
          applyFilters();
          // Hide modal
          filtersModal.style.display = "none";
        });

        // Reset filters button click handler
        resetFiltersBtn.addEventListener("click", function () {
          // Reset active filters
          activeFilters = {
            category: "All",
            brand: "All",
            fuel: "All",
            seats: "5",
            transmission: "Automatic",
          };

          // Reset UI
          categoryItems.forEach((item) => {
            item.classList.remove("active");
            if (item.getAttribute("data-category") === "All") {
              item.classList.add("active");
            }
          });

          brandItems.forEach((item) => {
            item.querySelector(".brand-icon").style.border = "none";
          });

          fuelItems.forEach((item) => {
            item.classList.remove("active");
            if (item.getAttribute("data-fuel") === "All") {
              item.classList.add("active");
            }
          });

          seatsOptions.forEach((item) => {
            item.classList.remove("active");
            if (item.getAttribute("data-seats") === "5") {
              item.classList.add("active");
            }
          });

          transmissionOptions.forEach((item) => {
            item.classList.remove("active");
            if (item.getAttribute("data-transmission") === "Automatic") {
              item.classList.add("active");
            }
          });

          // Show all cars
          applyFilters();
        });

        // Show filters modal if URL contains #filters
        if (window.location.hash === "#filters") {
          filtersModal.style.display = "block";
        }

        // Function to apply all filters
        function applyFilters() {
          // Hide all cars first
          let visibleCount = 0;

          carCards.forEach((card) => {
            const cardCategory = card.getAttribute("data-category");
            const cardBrand = card.getAttribute("data-brand");
            const cardFuel = card.getAttribute("data-fuel");
            const cardSeats = card.getAttribute("data-seats");
            const cardTransmission = card.getAttribute("data-transmission");

            // Check if card matches all active filters
            const categoryMatch =
              activeFilters.category === "All" ||
              cardCategory === activeFilters.category;
            const brandMatch =
              activeFilters.brand === "All" ||
              cardBrand === activeFilters.brand;
            const fuelMatch =
              activeFilters.fuel === "All" || cardFuel === activeFilters.fuel;
            const seatsMatch = cardSeats === activeFilters.seats;
            const transmissionMatch =
              cardTransmission === activeFilters.transmission;

            // For modal filters, only apply if the modal is being used
            const modalFiltersApplied = filtersModal.style.display === "block";
            const modalMatch =
              !modalFiltersApplied || (seatsMatch && transmissionMatch);

            // If card matches all filters, show it
            if (categoryMatch && brandMatch && fuelMatch && modalMatch) {
              card.style.display = "block";
              visibleCount++;
            } else {
              card.style.display = "none";
            }
          });

          // Check if we need to show 'no results' message
          const noResultsMsg = document.getElementById("no-results-msg");

          if (visibleCount === 0) {
            if (!noResultsMsg) {
              const msg = document.createElement("div");
              msg.id = "no-results-msg";
              msg.style.textAlign = "center";
              msg.style.padding = "30px";
              msg.style.color = "#666";
              msg.style.gridColumn = "1 / -1";
              msg.innerHTML =
                "No cars match your filters.<br>Try different filter options.";

              document.querySelector(".cars-grid").appendChild(msg);
            }
          } else if (noResultsMsg) {
            noResultsMsg.remove();
          }
        }

        // Initialize filters (to handle any pre-selected filters)
        applyFilters();
      });
    </script>
  </body>
</html>
